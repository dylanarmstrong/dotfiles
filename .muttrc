# Folders
set folder    = "imaps://imap.gmail.com:993"
set spoolfile = "+INBOX"
set postponed = "+[Gmail]/Drafts"
set mbox      = "imaps://imap.gmail.com/[Gmail]/All Mail"
set record    = ""
set copy      = yes
set move      = no
set include
mailboxes     = =INBOX

# Format
set date_format   = "%Y-%m-%d %H:%M:%S"
set index_format  = "%4C %4c %S%Z %D %-25.25F %?M?(%3M)&     ? %s"

# Pager
set editor        = "vim -c 'set syntax=mail ft=mail enc=utf-8'"
set pager         = "vim -nc 'setlocal readonly ignorecase ft=mail' -c 'nmap q :q!<CR>'"
set pager_format  = "-%S- %-20.20f %s"
set pager_stop
set noprompt_after
unset markers

# Sort
set sort          = threads
set sort_aux      = reverse-last-date-received
set sort_browser  = reverse-date
set sort_re

# View
auto_view text/html
alternative_order text/plain text/enriched text/html

# Headers
ignore *
unignore From To Cc Bcc Date Subject
unhdr_order *
hdr_order From: To: Cc: Bcc: Date: Subject:

# Forward Attachments
set mime_forward = yes
set mime_forward_rest = yes

# SSL
set ssl_starttls  = yes
set ssl_force_tls = yes

# Keep alive
set mail_check      = 120
set imap_keepalive  = 300
set imap_check_subscribed
unset imap_passive

# Cache
set header_cache      = $HOME/.mutt/cache/headers
set message_cachedir  = $HOME/.mutt/cache/bodies
set certificate_file  = $HOME/.mutt/certificates

# Random
set nobeep
set quit = ask-yes

# Charsets
set send_charset    = "utf-8"
set assumed_charset = "iso-8859-1"

# Sending Mail
set fast_reply
set reply_regexp = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"

# Bindings
bind index r group-reply
bind index g first-entry
bind index G last-entry
bind index o collapse-thread
bind index O collapse-all
bind index R toggle-new
bind index \# imap-fetch-mail
bind pager \# imap-fetch-mail
bind editor <Tab> complete-query
bind editor ^T complete
bind attach <return> view-mailcap

# Moving Around
bind editor <space> noop
macro index,pager y "<save-message>=[Gmail]/All Mail<enter><enter>" "Archive"
macro index,pager d "<save-message>=[Gmail]/Trash<enter><enter>" "Trash"
macro index gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index gs "<change-folder>=[Gmail]/Starred<enter>" "Go to starred messages"
macro index gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"

# Mailboxes
folder-hook 'act_work.muttrc' 'source $HOME/.mutt/act_work.muttrc'
folder-hook 'act_personal.muttrc' 'source $HOME/.mutt/act_personal.muttrc'
source $HOME/.mutt/act_personal.muttrc
macro index <f2> '<sync-mailbox><enter-command>source $HOME/.mutt/act_work.muttrc<enter><change-folder>!<enter>'
macro index <f3> '<sync-mailbox><enter-command>source $HOME/.mutt/act_personal.muttrc<enter><change-folder>!<enter>'

# Macro
macro attach s <save-entry><bol>~/downloads/<eol>

# Theme
color normal      black           white
color hdrdefault  green           default
color quoted      green           default
color quoted1     yellow          default
color quoted2     red             default
color signature   cyan            default
color indicator   brightyellow    red
color error       brightred       default
color status      brightwhite     blue
color tree        brightmagenta   white
color tilde       blue            default
color attachment  brightyellow    default
color markers     brightred       default
color message     black           white
color search      brightwhite     magenta
color bold        brightyellow    default
